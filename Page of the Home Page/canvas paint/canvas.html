<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Denis Yurkov">
    <meta name="copyright" content="All rights belong to Denis Yurkov">
    <title>Canvas paint</title>
    <link href="img/favicon (1).ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="css/canvas.css">
</head>
<body style="margin: 0;">
    <canvas id="canvas" style="display: block;">Your browser is not supported. U mad bro.</canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script type="text/javascript">


        // Help
        swal("Как пользоваться этой программой!", "\nЧтобы стереть рисунок нужно нажать c на клавиатуре.\nНа заметку на телефонах это программа не работает там не стационарной клавиатуры.\nТак что только на Пк или подключайте к телефону клавиатуру от Пк.\nP.S. Писать с маленькой буквы!\nНе забудьте поставить английскую раскладку!", "info");


        // Start

        var 
            canv = document.getElementById('canvas'),
            ctx  = canv.getContext('2d'),
            isMouseDown = false,
            coords = [],
            radius = 11;

        canv.width = window.innerWidth;
        canv.height = window.innerHeight;

        // Code
        
        canv.addEventListener('mousedown', function () {
            isMouseDown = true;
        });

        canv.addEventListener('mouseup' , function () {
            isMouseDown = false;
            ctx.beginPath();
            coords.push('mouseup');
        });

        ctx.lineWidth = radius * 2;
        canv.addEventListener('mousemove', function (e) {

            if ( isMouseDown) 
            {
                coords.push([e.clientX, e.clientY]);
                ctx.lineTo(e.clientX, e.clientY);
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(e.clientX, e.clientY, radius, 0, Math.PI * 2);
                ctx.fill();

                ctx.beginPath();
                ctx.moveTo(e.clientX, e.clientY);

            }
        });

      
        function clear() {
            ctx.fillStyle = 'white';
            ctx.fillRect(0,0, canv.width, canv.height);

            ctx.beginPath();
            ctx.fillStyle = 'black';
        }

        function replay() {
            var 
                timer = setInterval(function () {
                    if ( !coords.length ) {
                        clearInterval(timer);
                        ctx.beginPath();
                        return;
                    }

                    var 
                        crd = coords.shift(),
                        e = {
                            clientX: crd['0'],
                            clientY: crd['1']
                        };
                    ctx.lineTo(e.clientX, e.clientY);
                    ctx.stroke();

                ctx.beginPath();
                ctx.arc(e.clientX, e.clientY, radius, 0, Math.PI * 2);
                ctx.fill();

                ctx.beginPath();
                ctx.moveTo(e.clientX, e.clientY);

                }, 20);
        }

        document.addEventListener('keydown', function (e) {
            if (e.keyCode == 67) {
                console.log('Clear');
                // clear button on the keyboard c 
                clear();       
            }
        });
    </script>
</body>
</html>